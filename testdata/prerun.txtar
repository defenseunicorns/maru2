! exec maru2 -C foo
stderr 'ERRO chdir foo: no such file or directory'

! exec maru2 --fetch-policy never --fetch-all
stderr 'ERRO cannot fetch all with fetch policy "never"'

mkdir home/.maru2
mv bad/invalid.yaml home/.maru2/config.yaml
! exec maru2
stderr 'ERRO failed to parse config file: [1:1] string was used where mapping is expected\n> 1 | invalid yaml'

mv bad/fetch-policy.yaml home/.maru2/config.yaml
! exec maru2
stderr 'ERRO fetch-policy: fetch-policy must be one of the following: "always", "if-not-present", "never"'

mv bad/alias.yaml home/.maru2/config.yaml
! exec maru2
stderr 'ERRO aliases.gh.type: aliases.gh.type must be one of the following: "github", "gitlab"'

rm home/.maru2/config.yaml

env HOME=foo
! exec maru2
stderr 'ERRO failed to fetch "file:tasks.yaml": stat tasks.yaml: no such file or directory'

-- bad/invalid.yaml --
invalid yaml
-- bad/fetch-policy.yaml --
fetch-policy: foo
-- bad/alias.yaml --
aliases:
  gh:
    type: bitbucket
