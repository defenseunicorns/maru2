# yaml-language-server: $schema=../schema/v1/schema.json
schema-version: v1

tasks:
  echo:
    inputs:
      message:
        required: false
        description: message to echo
    steps:
      - run: |
          echo "$INPUT_MESSAGE"

  hello-world:
    steps:
      - uses: file:hello-world.yaml

  pwd:
    steps:
      - run: pwd

  chuck:
    steps:
      - uses: builtin:fetch
        with:
          url: https://api.chucknorris.io/jokes/random
          timeout: 10s
          headers:
            Accept: application/json

  fails:
    steps:
      - run: exit 2

  continues:
    steps:
      - run: echo 1
      - uses: fails
      - run: echo 3
      - if: always()
        run: echo 3

  sleep:
    steps:
      - run: sleep 10
      - run: echo "there"
        if: always()
      - run: echo "hello"
        if: cancelled()
      - run: echo obi
        if: failure()
