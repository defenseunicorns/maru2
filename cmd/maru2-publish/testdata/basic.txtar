# Test basic CLI functionality of maru2-publish

# Test help flag
maru2-publish --help
stdout 'Pack a maru2 workflow into an OCI artifact and publish'
stdout 'Usage:'
stdout 'maru2-publish'

# Test with invalid entrypoint file
! maru2-publish localhost:5000/test:latest -e nonexistent.yaml
stderr 'no such file or directory'

-- tasks.yaml --
schema-version: v0
tasks:
  hello:
    - run: echo "hello world"
